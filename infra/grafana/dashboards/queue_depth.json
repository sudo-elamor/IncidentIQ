{
    "uid": "incidentiq-queue-depth",
    "title": "IncidentIQ â€“ Queue Depth & Backpressure",
    "timezone": "browser",
    "schemaVersion": 38,
    "version": 1,
    "refresh": "5s",
    "panels": [
      {
        "type": "stat",
        "title": "API Queue Depth",
        "gridPos": { "x": 0, "y": 0, "w": 8, "h": 4 },
        "targets": [
          {
            "expr": "incidentiq_redis_queue_depth{queue=\"api_queue\"}",
            "refId": "A"
          }
        ]
      },
      {
        "type": "stat",
        "title": "Agent Queue Depth (LLM Backlog)",
        "gridPos": { "x": 8, "y": 0, "w": 8, "h": 4 },
        "targets": [
          {
            "expr": "incidentiq_redis_queue_depth{queue=\"agent_queue\"}",
            "refId": "B"
          }
        ]
      },
      {
        "type": "stat",
        "title": "DLQ Depth",
        "gridPos": { "x": 16, "y": 0, "w": 8, "h": 4 },
        "targets": [
          {
            "expr": "incidentiq_redis_queue_depth{queue=\"dlq\"}",
            "refId": "C"
          }
        ]
      },
      {
        "type": "timeseries",
        "title": "Queue Depth Over Time",
        "gridPos": { "x": 0, "y": 4, "w": 24, "h": 6 },
        "targets": [
          {
            "expr": "incidentiq_redis_queue_depth",
            "legendFormat": "{{queue}}",
            "refId": "D"
          }
        ]
      },
      {
        "type": "timeseries",
        "title": "Oldest Message Age (Seconds)",
        "gridPos": { "x": 0, "y": 10, "w": 24, "h": 6 },
        "targets": [
          {
            "expr": "incidentiq_redis_queue_oldest_message_age_seconds",
            "legendFormat": "{{queue}}",
            "refId": "E"
          }
        ]
      }
    ]
  }
  